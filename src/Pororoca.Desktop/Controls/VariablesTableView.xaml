<UserControl
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:Pororoca.Desktop.ViewModels.DataGrids;assembly=Pororoca.Desktop"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignWidth="1350"
    d:DesignHeight="700"
    x:Class="Pororoca.Desktop.Controls.VariablesTableView"
    x:CompileBindings="True"
    x:DataType="vm:VariablesDataGridViewModel">

  <DataGrid
      Name="datagrid"
      HorizontalAlignment="Stretch"
      VerticalAlignment="Stretch"
      AutoGenerateColumns="False"
      ItemsSource="{Binding Items}"
      SelectionChanged="OnSelectedVariablesChanged"
      CanUserResizeColumns="True"
      HeadersVisibility="All"
      Classes="DragAndDrop VariablesDragAndDrop">
    <!--DataGrid.KeyBindings>
      <KeyBinding Command="{Binding VariablesTableVm.CutCmd, Mode=OneWay}" Gesture="Ctrl+X" />
      <KeyBinding Command="{Binding VariablesTableVm.CopyCmd, Mode=OneWay}" Gesture="Ctrl+C" />
      <KeyBinding Command="{Binding VariablesTableVm.PasteCmd, Mode=OneWay}" Gesture="Ctrl+V" />
      <KeyBinding Command="{Binding VariablesTableVm.DuplicateCmd, Mode=OneWay}" Gesture="Ctrl+D" />
      <KeyBinding Command="{Binding VariablesTableVm.DeleteCmd, Mode=OneWay}" Gesture="Delete" />
    </DataGrid.KeyBindings-->
    <DataGrid.ContextMenu>
      <ContextMenu>
        <MenuItem
            Header="{Binding i18n.ContextMenu.Cut, Mode=OneWay}"
            Command="{Binding CutCmd, Mode=OneWay}"
            InputGesture="Ctrl+X"/>
        <MenuItem
            Header="{Binding i18n.ContextMenu.Copy, Mode=OneWay}"
            Command="{Binding CopyCmd, Mode=OneWay}"
            InputGesture="Ctrl+C"/>
        <MenuItem
            Header="{Binding i18n.ContextMenu.Paste, Mode=OneWay}"
            Command="{Binding PasteCmd, Mode=OneWay}"
            InputGesture="Ctrl+V"
            IsEnabled="{Binding InnerClipboardArea.CanPaste}"/>
        <MenuItem
            Header="{Binding i18n.ContextMenu.Delete, Mode=OneWay}"
            Command="{Binding DeleteCmd, Mode=OneWay}"
            InputGesture="Delete"/>
      </ContextMenu>
    </DataGrid.ContextMenu>
    <DataGrid.Columns>
      <DataGridCheckBoxColumn
          Width="*"
          Binding="{Binding Enabled}">
        <DataGridCheckBoxColumn.Header>
          <TextBlock Text="{Binding i18n.Variables.Enabled, Mode=OneWay}"/>
        </DataGridCheckBoxColumn.Header>
      </DataGridCheckBoxColumn>
      <DataGridTextColumn
          Width="2*"
          Binding="{Binding Key}">
        <DataGridTextColumn.Header>
          <TextBlock Text="{Binding i18n.Variables.Name, Mode=OneWay}"/>
        </DataGridTextColumn.Header>
      </DataGridTextColumn>
      <DataGridTextColumn
          Width="2*"
          Binding="{Binding Value}">
        <DataGridTextColumn.Header>
          <TextBlock Text="{Binding i18n.Variables.Value, Mode=OneWay}"/>
        </DataGridTextColumn.Header>
      </DataGridTextColumn>
      <DataGridCheckBoxColumn
          Width="*"
          Binding="{Binding IsSecret}">
        <DataGridCheckBoxColumn.Header>
          <TextBlock Text="{Binding i18n.Variables.IsSecret, Mode=OneWay}"/>
        </DataGridCheckBoxColumn.Header>
      </DataGridCheckBoxColumn>
      <DataGridTemplateColumn
          Width="0.2*"
          Header="">
        <DataGridTemplateColumn.CellTemplate>
          <DataTemplate>
            <Button
                Command="{Binding RemoveVariableCmd, Mode=OneWay}"
                VerticalAlignment="Center"
                HorizontalAlignment="Center"
                HorizontalContentAlignment="Center"
                VerticalContentAlignment="Center"
                Classes="Trash">
            </Button>
          </DataTemplate>
        </DataGridTemplateColumn.CellTemplate>
      </DataGridTemplateColumn>
    </DataGrid.Columns>
  </DataGrid>

</UserControl>